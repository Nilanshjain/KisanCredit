# KisanCredit Environment Variables
# Copy this file to .env and update with your values

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=KisanCredit
ENVIRONMENT=development  # development, staging, production
DEBUG=true

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
DATABASE_URL=postgresql+asyncpg://kisancredit:your_password@localhost:5432/kisancredit

# For synchronous connection (used by Alembic)
DATABASE_URL_SYNC=postgresql://kisancredit:your_password@localhost:5432/kisancredit

# Database pool settings (optional)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_URL=redis://localhost:6379/0

# Redis with password (if applicable)
# REDIS_URL=redis://:your_password@localhost:6379/0

# =============================================================================
# MLflow Configuration
# =============================================================================
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=kisancredit_profitability

# =============================================================================
# Model Configuration
# =============================================================================
MODEL_PATH=models/profitability_model_latest.pkl

# Model serving settings
MODEL_PREDICTION_THRESHOLD=0.6
MODEL_CONFIDENCE_THRESHOLD=0.7

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=900  # in seconds (15 minutes)

# =============================================================================
# Feature Weights (Profitability Score Matrix)
# =============================================================================
INCOME_WEIGHT=0.40
EXPENSE_WEIGHT=0.25
SOCIAL_WEIGHT=0.15
DISCIPLINE_WEIGHT=0.10
BEHAVIORAL_WEIGHT=0.10

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text
LOG_FILE=logs/kisancredit.log

# =============================================================================
# Security Settings
# =============================================================================
# API key for protected endpoints (optional)
# API_KEY=your-secret-api-key

# JWT settings (for future authentication)
# JWT_SECRET_KEY=your-jwt-secret-key
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION_MINUTES=30

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# Monitoring & Observability
# =============================================================================
# Prometheus
PROMETHEUS_PORT=9090
ENABLE_METRICS=true

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# =============================================================================
# Performance Settings
# =============================================================================
# API Workers (for production)
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker

# Cache settings
CACHE_TTL=3600  # Default cache TTL in seconds
CACHE_ENABLED=true

# =============================================================================
# Data Processing
# =============================================================================
# Feature extraction settings
FEATURE_BATCH_SIZE=1000
FEATURE_EXTRACTION_TIMEOUT=30

# =============================================================================
# Testing Configuration
# =============================================================================
TEST_DATABASE_URL=postgresql+asyncpg://kisancredit:test_password@localhost:5432/kisancredit_test
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# Production Settings
# =============================================================================
# Set these in production
# SENTRY_DSN=your-sentry-dsn
# AWS_ACCESS_KEY_ID=your-aws-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret
# AWS_REGION=ap-south-1
# S3_BUCKET=kisancredit-models
